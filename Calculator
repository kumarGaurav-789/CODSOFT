# ==============================================================================
# Task 2: CALCULATOR
# This program provides a simple command-line calculator with basic arithmetic
# operations: addition, subtraction, multiplication, and division.
# ==============================================================================

def add(x, y):
    """
    Performs addition of two numbers.
    Args:
        x (float): The first number.
        y (float): The second number.
    Returns:
        float: The sum of x and y.
    """
    return x + y

def subtract(x, y):
    """
    Performs subtraction of two numbers.
    Args:
        x (float): The first number (minuend).
        y (float): The second number (subtrahend).
    Returns:
        float: The difference of x and y.
    """
    return x - y

def multiply(x, y):
    """
    Performs multiplication of two numbers.
    Args:
        x (float): The first number.
        y (float): The second number.
    Returns:
        float: The product of x and y.
    """
    return x * y

def divide(x, y):
    """
    Performs division of two numbers.
    Handles division by zero error.
    Args:
        x (float): The numerator (dividend).
        y (float): The denominator (divisor).
    Returns:
        float or str: The quotient of x and y, or an error message if y is zero.
    """
    if y == 0:
        return "Error: Division by zero is not allowed!"
    return x / y

def run_calculator():
    """
    Main function to run the Calculator application.
    It continuously prompts the user for numbers and an operation until they choose to exit.
    """
    print("\n--- SIMPLE CALCULATOR ---")
    while True:
        try:
            # Get the first number from the user
            num1_input = input("Enter first number: ")
            num1 = float(num1_input) # Convert input string to a floating-point number

            # Get the second number from the user
            num2_input = input("Enter second number: ")
            num2 = float(num2_input) # Convert input string to a floating-point number

        except ValueError:
            # Handle cases where the user enters non-numeric input
            print("Invalid input. Please enter valid numbers only.")
            continue # Continue to the next iteration of the loop to ask for numbers again

        # Display operation choices to the user
        print("\nSelect operation:")
        print("1. Add (+)")
        print("2. Subtract (-)")
        print("3. Multiply (*)")
        print("4. Divide (/)")
        print("5. Exit")

        # Get the user's choice of operation
        choice = input("Enter choice (1/2/3/4/5): ").strip()

        result = None # Initialize result variable
        operation_symbol = "" # Initialize symbol for display

        # Perform the chosen operation
        if choice == '1':
            result = add(num1, num2)
            operation_symbol = '+'
        elif choice == '2':
            result = subtract(num1, num2)
            operation_symbol = '-'
        elif choice == '3':
            result = multiply(num1, num2)
            operation_symbol = '*'
        elif choice == '4':
            result = divide(num1, num2)
            operation_symbol = '/'
        elif choice == '5':
            # Exit the calculator
            print("Exiting Calculator. Goodbye!")
            break # Break out of the while loop to end the program
        else:
            # Handle invalid operation choice
            print("Invalid choice. Please enter a valid operation (1-5).")
            # We don't ask to play again here, as the operation wasn't performed correctly
            continue # Continue to the next iteration to re-display menu

        # Display the result if an operation was successfully performed
        if result is not None:
            if isinstance(result, str): # Check if the result is an error message (from divide by zero)
                print(result)
            else:
                print(f"\nResult: {num1} {operation_symbol} {num2} = {result}")
        
        # Ask if the user wants to perform another calculation
        play_again = input("Do you want to perform another calculation? (yes/no): ").lower().strip()
        if play_again != 'yes':
            print("Exiting Calculator. Goodbye!")
            break # Exit the loop if user doesn't want to continue

# This line ensures that `run_calculator()` is called only when the script is executed directly,
# not when it's imported as a module into another script.
if __name__ == "__main__":
    run_calculator()
